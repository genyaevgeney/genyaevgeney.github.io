package jdbs.lb;
import java.util.Arrays;

import jdbc.lb.dao.PhoneDao;
import jdbc.lb.domain.Phone;
public class Main {

	public static void main(String[] args) {
		PhoneDao dao = new PhoneDao();
		
		//add 3 products to database
		Arrays.asList(
				new Phone("boots", "wqeqss"),
				new Phone("phone", "wqee"),
				new Phone("pc", "asdasd")
				)
		.stream()
		.forEach(p -> dao.add(p));
		
		//Display all products
		dao.getAll().stream().forEach(System.out::println);
		
		//Update some product
		dao.getAll().stream().findAny().ifPresent(p -> {
			p.setTitle("updated");
			dao.update(p);
		});
		
		//Display all products after update
		dao.getAll().stream().forEach(System.out::println);
		
		//Remove some product
		dao.getAll().stream().findAny().ifPresent(p -> {
			dao.remove(p.getId());
		});
		
		//Display all products after remove
		dao.getAll().stream().forEach(System.out::println);
	}

}
